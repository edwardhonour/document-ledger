<div class="row">
    <div class="col-lg-4 col-xl-3 col-xxl-2">
      <app-sitebar-wrapper></app-sitebar-wrapper>       
    </div>
<div class="col-lg-8 col-xl-9 col-xxl-10">
<div style="margin-left: 30px; " class="card">
    <div class="container-fluid p-3">
        <div class="row card card-body m-3">
            <div class="col-sm-5" style="background-color: white;">
                <h1 class="mt-2"><span style="text-align: right; margin-right: 30px;"> <button [routerLink]="['/workspaces']" class="btn btn-secondary"><i class="bi bi-arrow-bar-left"></i></button></span>{{ data?.formData?.workspace_name }}</h1>
                <p>{{ data?.formData?.workspace_dsc }}<br>
                {{ data?.formData?.storage_key }}<br>
            </div>   

        </div>
        <div class="row p-3">
            <div class="col-3">
                <div class="card card-body">
                    <h2>Main Menu</h2>
                    <sql-menu (menuClick)="processClick($event);" [active]="'DOCUMENTS'">
                        <li #row id="DOCUMENTS">Documents</li> 
                        <li #row id="MANAGE">Manage Workspace</li>
                        <li #row id="ADD">New Document</li>
                        <li #row id="UPLOAD">Smart Upload</li>                    
                        <li #row id="SHARE">Share Workspace</li>
                        <li #row id="HIDE">Hide (Delete Workspace)</li>                         
               </sql-menu>
                </div>
                <div class="card card-body">
                    <sql-menu (menuClick)="processClick($event);">
                        <li #row id="TEAM">Invite Team Member</li>                    
                        <li #row id="TEAM">Invite Collaborator</li>      
                        <li #row id="TEAM">Invite Stakeholder</li>                      
               </sql-menu>
                </div>
            </div>
    
            <div class="col-sm-9">
                <div *ngIf="uploading=='Y'" class="card p-3">
                    <app-smart-upload [workspace_id]="data?.formData?.id" document_id="'0'" (cancel)="toggleAdd()"></app-smart-upload>
                </div>
                <div *ngIf="adding=='Y'" class="card p-3">
                    <app-add-document-form (cancel)="toggleAdd()" [workspace_id]="data?.formData?.id" [user_id]="uid"></app-add-document-form>
                </div>                
                <div class="card p-3">
                    <div class="row">
                        <div class="col-9">
                            <h2>Documents</h2>
                        </div>
                        <div class="col-3"  style="text-align: right;">
                            <button (click)="toggleUpload();"  class="btn btn-primary">Smart Upload</button>
                        </div>
                    </div>
                    
                    <table class="table table-striped table-condensed">
                        <thead>
                            <tr>
                                <th>Timestamp</th>
                                <th>Document Name</th>
                                <th>Document Type</th>
                                <th>Version</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let m of data.documents">
                                <td (click)="toggleVersion(m);">{{ m.create_timestamp }}</td>
                                <td (click)="toggleVersion(m);">{{ m.document_name }}</td>
                                <td (click)="toggleVersion(m);">{{ m.extension }}</td>
                                <td (click)="toggleVersion(m);">{{ m.version }}</td>
                                <td><button [routerLink]="['/document-dashboard',m.storage_key]" class="btn btn-primary"><i class="bi bi-clipboard-data"></i></button></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="row p-2">
                        <div class="col-6">
                        </div>
                        <div class="col-6" style="text-align: right;">
                            <button (click)="toggleAdd();" class="btn btn-secondary">Add Document</button>
                        </div>
                    </div>  
                </div>
                <div *ngIf="version=='Y'" class="card p-3">
                    <hr/>
                    <app-sql-upload [document_id]="doc_id" [workspace_id]="data.formData.id"></app-sql-upload>
                    <h2>Version History</h2>
                    <table class="table table-striped table-condensed">
                        <thead>
                            <tr>
                                <th>Timestamp</th>
                                <th>Document Name</th>
                                <th>Document Type</th>
                                <th>Uploaded By</th>
                                <th>Version</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>{{ k.create_timestamp }}</th>
                                <th>{{ k.document_name }}</th>
                                <th>.png</th>
                                <th>Jason Scarpetta</th>
                                <th>1</th>
                            </tr>
                        </tbody>
                    </table> 
                </div>
            </div>
        </div>   
    </div>
        
    </div>    
    <div class="relative flex flex-0 items-center justify-start w-full h-14 px-4 md:px-6 z-49 border-t bg-card dark:bg-transparent print:hidden">
            <span class="font-medium text-secondary">SQLLabs Inc. &copy; 2023</span>
    </div>
    </div>
    